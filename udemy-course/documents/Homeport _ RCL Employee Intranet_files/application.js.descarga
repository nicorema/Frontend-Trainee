"use strict";function base64Encode(e){for(var t,n,i,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",s=0,o=e.length;s<o;){if(t=255&e.charCodeAt(s++),s==o){r+=a.charAt(t>>2),r+=a.charAt((3&t)<<4),r+="==";break}if(n=e.charCodeAt(s++),s==o){r+=a.charAt(t>>2),r+=a.charAt((3&t)<<4|(240&n)>>4),r+=a.charAt((15&n)<<2),r+="=";break}i=e.charCodeAt(s++),r+=a.charAt(t>>2),r+=a.charAt((3&t)<<4|(240&n)>>4),r+=a.charAt((15&n)<<2|(192&i)>>6),r+=a.charAt(63&i)}return r}function App(){var i=this,a=$(window),n=($("body"),768),r=992,s=1200;this.getScreenType=function(){var e,t=a.width();a.height();return t<n?e="xs":t<r?e="sm":t<s?e="md":s<=t&&(e="lg"),i.screen=e},this.dynamicSpacing=function(){$("#logo-stretch-text").css("letter-spacing",0);var e=$("#logo-stretch-text").html(),t=e;e=e.replace(/(.|\s)/g,"<span>$1</span>"),$("#logo-stretch-text").html(e);var n=0,i=0;$("#logo-stretch-text span").each(function(){n+=$(this).width(),i++});var a=(150-n)/(i-1);$("#logo-stretch-text").css("visibility","visible"),$("#logo-stretch-text").html(t),$("#logo-stretch-text").css("letter-spacing",a)},this.handleScreenResize=function(){a.resize(function(){i.getScreenType(),i.dynamicSpacing()}).resize()},this.handleSimilarHeight=function(e){var n=0<$(e).length&&$(e);if(!n)return!1;"xs"!==i.screen&&a.resize(function(){var t=0,e=$(".item-similar-height",n);e.css("height","auto").each(function(){var e=parseInt($(this).height());t<e&&(t=e)}),e.css("height",t)}).resize()},this.wrapEmbeds=function(){$(".content").find("iframe").addClass("embed-responsive-item").wrap('<div class="embed-responsive embed-responsive-16by9"></div>')},this.handlePagination=function(){0<$(".paginate").length&&$(".paginate").each(function(){var e=$(this),i=$(".paginate-item",e),t=i.length;t<=4?$(".paginate-nav",e).remove():(i.slice(4).hide(),$(".paginate-nav",e).pagination({items:t,itemsOnPage:4,prevText:"&lsaquo;",nextText:"&rsaquo;",onPageClick:function(e){var t=4*(e-1),n=t+4;return i.hide().slice(t,n).show(),!1}}))})},this.handleArticleMoreImages=function(){if(0<$(".size-thumbnail").length){var e=$(".size-thumbnail").parents("p");4<e.children().length&&(e.addClass("imagesWrap clearfix").append('<p class="alignright"><a href="javascript:;" class="img-load-more">View more</a></p>'),e.children("a").hide().slice(0,4).show()),$(".content").on("click",".img-load-more",function(){$(".content").find(".imagesWrap").children("a").show(),$(this).parent().remove()})}},this.handleEvents=function(){$(".save-event").on("click",function(){var t=$(this);jQuery.ajax({type:"POST",url:APP.ajax_url,data:{action:"saveuserevent",event_id:t.data("id")},success:function(e){"deleted"===e?t.find(".icon-pin-event").removeClass("icon-pin-event-fill"):t.find(".icon-pin-event").addClass("icon-pin-event-fill")}})})},this.handleExternalLinks=function(){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.host),$('a[href^="http"]').not(".atcb-link").not('[href*="'+window.location.origin+'"]').attr("target","_blank")},this.handlePeopleFinder=function(){$(".people-finder").change(function(){var e="",t=this.value;t.length<2?e="Please enter atleast two characters":/^[a-z\s]+$/i.test(t)?/\s$/.test(t)?e="Last character must not be blank space":t.startsWith(" ")&&(e="First character must not be blank space"):e="Numbers and special characters are not allowed",$(".people-finder").attr("data-errormessage",e)}),$(".button-filter").on("click",function(){$(".filter-xs").stop().slideToggle()})},this.handleSearchForm=function(){var e=$("#search").val();0<$("#search-form #search-icon").length&&0<e.length&&$("#search").val(e.trim())},this.init=function(){i.handleScreenResize(),i.wrapEmbeds(),i.handlePagination(),i.handleArticleMoreImages(),i.handleEvents(),i.handlePeopleFinder(),i.handleExternalLinks(),i.handleSimilarHeight(".similar-height-parent-news"),i.handleSimilarHeight(".similar-height-parent-footer"),i.handleSimilarHeight(".similar-height-parent-highlights"),$.fn.almDone=function(){$(".alm-btn-wrap .button").remove()},i.handleSearchForm()}}$(function(){(new App).init(),0<=navigator.platform.toUpperCase().indexOf("MAC")&&$(".stock-quote").addClass("mac-device")});
//# sourceMappingURL=application.js.map
